<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>onyx-local-rt.api documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Onyx-local-rt 0.9.11.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>onyx-local-rt</span></div></div></li><li class="depth-2 current"><a href="onyx-local-rt.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="onyx-local-rt.api.html#var-drain"><div class="inner"><span>drain</span></div></a></li><li class="depth-1"><a href="onyx-local-rt.api.html#var-drained.3F"><div class="inner"><span>drained?</span></div></a></li><li class="depth-1"><a href="onyx-local-rt.api.html#var-env-summary"><div class="inner"><span>env-summary</span></div></a></li><li class="depth-1"><a href="onyx-local-rt.api.html#var-init"><div class="inner"><span>init</span></div></a></li><li class="depth-1"><a href="onyx-local-rt.api.html#var-new-segment"><div class="inner"><span>new-segment</span></div></a></li><li class="depth-1"><a href="onyx-local-rt.api.html#var-stop"><div class="inner"><span>stop</span></div></a></li><li class="depth-1"><a href="onyx-local-rt.api.html#var-tick"><div class="inner"><span>tick</span></div></a></li><li class="depth-1"><a href="onyx-local-rt.api.html#var-transition-env"><div class="inner"><span>transition-env</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">onyx-local-rt.api</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-drain"><h3>drain</h3><div class="usage"><code>(drain env)</code><code>(drain env max-ticks)</code></div><div class="doc"><pre class="plaintext">Calls `tick` until there are no more in-flight segments. Will only
call `tick` 10,000 times, or a user-given number of times, to prevent
an infinite-loop in the case of a problematic job.</pre></div></div><div class="public anchor" id="var-drained.3F"><h3>drained?</h3><div class="usage"><code>(drained? env)</code></div><div class="doc"><pre class="plaintext">Returns true if there are no in-flight segments.
</pre></div></div><div class="public anchor" id="var-env-summary"><h3>env-summary</h3><div class="usage"><code>(env-summary env)</code></div><div class="doc"><pre class="plaintext">Returns a subset of the runtime to explain where segments are currently located in the job.
</pre></div></div><div class="public anchor" id="var-init"><h3>init</h3><div class="usage"><code>(init {:keys [workflow], :as job})</code></div><div class="doc"><pre class="plaintext">Takes an Onyx job and returns a new runtime instance.
</pre></div></div><div class="public anchor" id="var-new-segment"><h3>new-segment</h3><div class="usage"><code>(new-segment env input-task segment)</code></div><div class="doc"><pre class="plaintext">Given a runtime, places the segment onto
the inbox of the specified task. Does not call `tick`
or advance the runtime in any way.</pre></div></div><div class="public anchor" id="var-stop"><h3>stop</h3><div class="usage"><code>(stop env)</code></div><div class="doc"><pre class="plaintext">Stops and returns the runtime, simulating the behavior of a
distributed peer stopping. It is valid to call `tick` after
`stop` to simulate the job starting again.</pre></div></div><div class="public anchor" id="var-tick"><h3>tick</h3><div class="usage"><code>(tick env)</code></div><div class="doc"><pre class="plaintext">Advances the runtime one step in the lifecycle forward for all tasks.
</pre></div></div><div class="public anchor" id="var-transition-env"><h3>transition-env</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Data-backed API for transitioning the environment.
</pre></div></div></div></body></html>